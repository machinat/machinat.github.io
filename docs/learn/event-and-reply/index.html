<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learn/event-and-reply">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Machinat | Sociable App Framework RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Machinat | Sociable App Framework Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-9NF8CTC8SH","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="alternate" type="application/rss+xml" href="/blog/zh-tw/rss.xml" title="Machinat | Sociable App Framework RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/zh-tw/atom.xml" title="Machinat | Sociable App Framework Atom Feed"><title data-rh="true">Event and Reply | Machinat | Sociable App Framework</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://machinat.com/img/machinat-logo.png"><meta data-rh="true" name="twitter:image" content="https://machinat.com/img/machinat-logo.png"><meta data-rh="true" property="og:url" content="https://machinat.com/docs/learn/event-and-reply"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Event and Reply | Machinat | Sociable App Framework"><meta data-rh="true" name="description" content="Replying messages is the most basic function in chat. In this lesson, you will"><meta data-rh="true" property="og:description" content="Replying messages is the most basic function in chat. In this lesson, you will"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://machinat.com/docs/learn/event-and-reply"><link data-rh="true" rel="alternate" href="https://machinat.com/docs/learn/event-and-reply" hreflang="en"><link data-rh="true" rel="alternate" href="https://machinat.com/docs/learn/event-and-reply" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.92027e76.css">
<link rel="preload" href="/assets/js/runtime~main.4d182aae.js" as="script">
<link rel="preload" href="/assets/js/main.c2bf8c62.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/nav-logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/nav-logo-dark.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/learn/">Learn</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="/api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/machinat/machinat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/">Basic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dependency-injection">Advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/messenger-platform">Platforms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/learn">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/create-app">Create a Machinat App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/learn/event-and-reply">Event and Reply</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/native-ui-and-postback">Native UI and Postback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/component">UI Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/service-and-state">Service and State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/recognize-intent">Recognize Intent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/dialog-script">Dialog Script</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/webview-in-chat">Webview in Chat</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorial</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Event and Reply</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Event and Reply</h1></header><blockquote><p>Replying messages is the most basic function in chat. In this lesson, you will
learn how to receive events and make the response.</p><p><em>Time to accomplish: 10 minutes</em></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reply-simple-message">Reply Simple Message<a class="hash-link" href="#reply-simple-message" title="Direct link to heading">​</a></h2><p>Let&#x27;s change the reply a little bit. Open file <code>src/handlers/handleChat.tsx</code>
and edit the handler function to this:</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">src/handlers/handleChat.tsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ctx</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">ChatEventContext</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> event</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> category</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;message&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postback&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> reply </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello! I&#x27;m a Todo Bot 🤖&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Try interacting with the bot, and it should reply with the string in <code>reply(&quot;...&quot;)</code>.</p><img loading="lazy" width="400" src="/assets/images/hello-todo-bot-3609cea40752db51d592638741d3dc28.png" class="img_ev3q"><p>The <code>context.reply</code> function sends messages back to the chat. Replying with a string
is the simplest way to use it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jsx-syntax">JSX Syntax<a class="hash-link" href="#jsx-syntax" title="Direct link to heading">​</a></h3><p>In this tutorial, we&#x27;ll use a more powerful way to send messages.
That&#x27;s <a href="/docs/introducing-jsx">JSX</a>.</p><p>Try editing the content of reply to this:</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">Hello! I&#x27;m a </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">b</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">Todo Bot</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">b</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"> 🤖</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The html alike syntax is a <strong>JSX</strong> expression.
It represents a section of chat UI in a conversation.
For example, the <code>&lt;p&gt;...&lt;/p&gt;</code> element displays a message bubble containing the inner text.</p><p>You&#x27;ll learn more useful JSX features in the lessons.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>To use the JSX syntax in typescript, the file extension has to be <code>.tsx</code>.
Also you need to import <code>Machinat</code> at the beginning of the file like:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Machinat </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@machinat/core&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="formatting-text">Formatting Text<a class="hash-link" href="#formatting-text" title="Direct link to heading">​</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><strong>Messenger</strong> and <strong>LINE</strong> don&#x27;t support text format, it shows plain text on them.</p></div></div><p>In the code above, <code>&lt;b&gt;...&lt;/b&gt;</code> element makes the inner text bold if the platform supports it.
There are more text formatting tags like <code>i</code>, <code>s</code> and <code>code</code>.
You can check the full list of them <a href="/docs/rendering-messages#textual-element-types">here</a>.</p><p>For example, <code>&lt;p&gt;&lt;b&gt;Hello!&lt;/b&gt; &lt;s&gt;I&#x27;m a&lt;/s&gt; &lt;i&gt;Todo&lt;/i&gt; &lt;code&gt;Bot 🤖&lt;/code&gt;&lt;/p&gt;</code> might look like this:</p><img loading="lazy" width="250" src="data:image/png;base64,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" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="listen-to-event">Listen to Event<a class="hash-link" href="#listen-to-event" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="handle-text-message">Handle Text Message<a class="hash-link" href="#handle-text-message" title="Direct link to heading">​</a></h3><p>Text messages are the most common message type you would receive.
Let&#x27;s enable the bot to handle an <code>&quot;add todo &lt;todo name&gt;&quot;</code> command.</p><p>Edit the <code>handleChat</code> function like this:</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">src/handlers/handleChat.tsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ctx</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">ChatEventContext</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> event</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> category</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;message&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postback&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> reply </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;text&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> matchingAddTodo </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">match</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">add(\s+todo)?(.*)</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-flags">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">matchingAddTodo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> todoName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> matchingAddTodo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">trim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">Todo &quot;&lt;b&gt;{todoName}&lt;/b&gt;&quot; is added!</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">Hello! I&#x27;m a </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">b</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">Todo Bot</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">b</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"> 🤖</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now your bot can accept <code>add todo &lt;name&gt;</code> command like:</p><img loading="lazy" width="400" src="/assets/images/add-todo-say-hello-a50c62296bd6b8da09a5093ee4d15aa7.png" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-object">Event Object<a class="hash-link" href="#event-object" title="Direct link to heading">​</a></h3><p>When a user sends a message to your bot, <code>handleChat</code> handler receives an event context object.
We can get the event information at <code>context.event</code>.</p><p>Here&#x27;s the common properties of an <code>event</code>:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  platform</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;messenger&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// chat platform</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  category</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;message&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// event category</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;text&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">           </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// event type</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">payload</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*...*/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">     </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// raw data from chat platform</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  user</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*...*/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// user object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  channel</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*...*/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">     </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// chat object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can use the <code>platform</code>, <code>category</code> and <code>type</code> to identify what&#x27;s happening.
An event with <code>&#x27;text&#x27;</code> type always implements the <code>event.text</code> interface.
So we can extract the todo name with a regular expression safely.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">type </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;text&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token builtin" style="color:rgb(130, 170, 255)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// must be string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-jsx">Advanced JSX<a class="hash-link" href="#advanced-jsx" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-expression-in-jsx">Use Expression in JSX<a class="hash-link" href="#use-expression-in-jsx" title="Direct link to heading">​</a></h3><p>The <code>{todoName}</code> syntax above can be used to put any expression in the JSX.
For example, change it to <code>{todoName.toUpperCase()}</code> and see what happens.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grouped-messages">Grouped Messages<a class="hash-link" href="#grouped-messages" title="Direct link to heading">​</a></h3><p>Let&#x27;s add some details after adding a todo. Edit the result message like this:</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">src/handlers/handleChat.tsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">matchingAddTodo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> todoName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> matchingAddTodo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">trim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">Todo &quot;&lt;b&gt;{todoName}&lt;/b&gt;&quot; is added!</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">You have </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">b</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">b</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"> todos now.</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The element <code>&lt;&gt;...&lt;/&gt;</code> with empty tag is a <strong>Fragment</strong>. You can use it to group
several messages together and send them once. The result would look like:</p><img loading="lazy" width="400" src="/assets/images/add-todo-order-pizza-f25ee666ccd3899524f1f6d0a4529c55.png" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-pause">Adding a Pause<a class="hash-link" href="#adding-a-pause" title="Direct link to heading">​</a></h3><p>When sending a series of messages, you might want to shortly break between them.
We can use the <code>Machinat.Pause</code> tag to do that.</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">src/handlers/handleChat.tsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">Todo &quot;&lt;b&gt;{todoName}&lt;/b&gt;&quot; is added!</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 203, 107)">Machinat.Pause</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">time</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript number" style="color:rgb(247, 140, 108)">1500</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text">You have </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">b</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">b</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"> todos now.</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The code above adds a 1.5 second pause between two messages.</p><hr><p>Our bot can receive events in the chatroom and answer simple messages.
Next, we&#x27;ll learn how to interact with users using in-chat widgets.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/machinat/machinat/edit/master/website/docs/learn/event-and-reply.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/learn/create-app"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Create a Machinat App</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/learn/native-ui-and-postback"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Native UI and Postback</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reply-simple-message" class="table-of-contents__link toc-highlight">Reply Simple Message</a><ul><li><a href="#jsx-syntax" class="table-of-contents__link toc-highlight">JSX Syntax</a></li><li><a href="#formatting-text" class="table-of-contents__link toc-highlight">Formatting Text</a></li></ul></li><li><a href="#listen-to-event" class="table-of-contents__link toc-highlight">Listen to Event</a><ul><li><a href="#handle-text-message" class="table-of-contents__link toc-highlight">Handle Text Message</a></li><li><a href="#event-object" class="table-of-contents__link toc-highlight">Event Object</a></li></ul></li><li><a href="#advanced-jsx" class="table-of-contents__link toc-highlight">Advanced JSX</a><ul><li><a href="#use-expression-in-jsx" class="table-of-contents__link toc-highlight">Use Expression in JSX</a></li><li><a href="#grouped-messages" class="table-of-contents__link toc-highlight">Grouped Messages</a></li><li><a href="#adding-a-pause" class="table-of-contents__link toc-highlight">Adding a Pause</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/machinat" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/machinatjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/machinat/machinat" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Machinat LLC</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4d182aae.js"></script>
<script src="/assets/js/main.c2bf8c62.js"></script>
</body>
</html>